<!DOCTYPE html>
<html lang="en-GB">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ReferralHub - Join the Network</title>
<link rel="icon" type="image/png" href="https://raw.githubusercontent.com/nkechiyerem10-cmd/referralhub/main/public/shuttle.png">
<script src="/__/firebase/9.25.0/firebase-app-compat.js"></script>
<script src="/__/firebase/9.25.0/firebase-auth-compat.js"></script>
<script src="/__/firebase/9.25.0/firebase-firestore-compat.js"></script>
<script src="/__/firebase/init.js"></script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --primary-blue: #0B5CFF;
  --navy-dark: #0e1525;
  --navy-medium: #1a2236;
  --accent-purple: #6366f1;
  --text-light: #ffffff;
  --text-gray: #e2e8f0;
  --success-green: #10b981;
  --error-red: #ef4444;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  line-height: 1.6;
  color: #333;
  overflow-x: hidden;
  min-height: 100vh;
}

/* Animated Gradient Background */
.animated-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background: linear-gradient(-45deg, #0e1525, #1a2236, #0B5CFF, #6366f1);
  background-size: 400% 400%;
  animation: gradientShift 15s ease infinite;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Parallax Elements */
.parallax-layer {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
}

.parallax-bg {
  position: absolute;
  width: 600px;
  height: 600px;
  border-radius: 50%;
  opacity: 0.12;
}

.parallax-bg-1 {
  background: radial-gradient(circle, var(--primary-blue) 0%, transparent 70%);
  top: -15%;
  right: -8%;
  animation: float 20s ease-in-out infinite;
}

.parallax-bg-2 {
  background: radial-gradient(circle, var(--accent-purple) 0%, transparent 70%);
  bottom: -15%;
  left: -8%;
  animation: float 25s ease-in-out infinite reverse;
}

@keyframes float {
  0%, 100% { transform: translate(0, 0) scale(1); }
  50% { transform: translate(30px, -30px) scale(1.1); }
}

/* Hero Section */
.hero {
  min-height: 35vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 120px 2rem 60px;
  position: relative;
  overflow: hidden;
}

.hero-content {
  position: relative;
  z-index: 2;
  max-width: 700px;
}

.hero-tag {
  display: inline-block;
  background: rgba(11, 92, 255, 0.15);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(11, 92, 255, 0.3);
  padding: 0.5rem 1.5rem;
  border-radius: 50px;
  color: var(--text-light);
  font-size: 0.9rem;
  margin-bottom: 1.5rem;
  opacity: 0;
  animation: fadeInUp 0.6s ease forwards;
}

.hero h1 {
  font-size: 3.5rem;
  color: var(--text-light);
  margin-bottom: 1rem;
  line-height: 1.2;
  opacity: 0;
  animation: fadeInUp 0.8s ease 0.2s forwards;
  text-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

.hero p {
  font-size: 1.25rem;
  color: var(--text-gray);
  opacity: 0;
  animation: fadeInUp 1s ease 0.4s forwards;
}

/* Auth Toggle */
.auth-toggle {
  display: flex;
  gap: 0;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 50px;
  padding: 0.4rem;
  margin-bottom: 2rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.toggle-btn {
  flex: 1;
  padding: 0.7rem 2rem;
  border: none;
  background: transparent;
  color: var(--text-gray);
  font-weight: 600;
  border-radius: 50px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 0.95rem;
}

.toggle-btn.active {
  background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
  color: white;
  box-shadow: 0 4px 12px rgba(11, 92, 255, 0.4);
}

/* Form Section */
.form-section {
  padding: 60px 2rem 100px;
  max-width: 550px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
}

.form-card {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 24px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 3rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  transition: all 0.4s ease;
  opacity: 0;
  transform: translateY(30px);
  animation: fadeInUp 1s ease 0.6s forwards;
}

.form-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 16px 48px rgba(11, 92, 255, 0.2);
  border-color: rgba(11, 92, 255, 0.3);
}

.security-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: rgba(16, 185, 129, 0.1);
  border: 1px solid var(--success-green);
  padding: 0.5rem 1rem;
  border-radius: 50px;
  color: var(--success-green);
  font-size: 0.85rem;
  margin-bottom: 1.5rem;
}

/* Form Elements */
.form-group {
  margin-bottom: 1.5rem;
}

.form-group label {
  display: block;
  color: var(--text-light);
  font-weight: 500;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.form-group input {
  width: 100%;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  color: var(--text-light);
  font-size: 1rem;
  transition: all 0.3s;
}

.form-group input::placeholder {
  color: rgba(226, 232, 240, 0.5);
}

.form-group input:focus {
  outline: none;
  border-color: var(--primary-blue);
  background: rgba(255, 255, 255, 0.08);
  box-shadow: 0 0 0 3px rgba(11, 92, 255, 0.1);
}

/* Submit Button */
.submit-btn {
  width: 100%;
  background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
  color: white;
  padding: 1.2rem;
  border: none;
  border-radius: 12px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 10px 30px rgba(11, 92, 255, 0.3);
  position: relative;
  overflow: hidden;
}

.submit-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.submit-btn:hover::before {
  width: 300px;
  height: 300px;
}

.submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 15px 40px rgba(11, 92, 255, 0.5);
}

.submit-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

/* Loading Spinner */
.spinner {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: white;
  animation: spin 0.8s linear infinite;
  margin-left: 10px;
  vertical-align: middle;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Messages */
.error-message {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid var(--error-red);
  border-radius: 12px;
  padding: 1rem;
  margin-bottom: 1.5rem;
  color: var(--error-red);
  display: none;
  animation: shake 0.5s ease;
}

.error-message.show {
  display: block;
}

.success-message {
  display: none;
  text-align: center;
  padding: 2rem;
}

.success-message.show {
  display: block;
  animation: fadeInUp 0.6s ease;
}

.success-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
  animation: scaleIn 0.6s ease;
}

.success-message h3 {
  color: var(--text-light);
  font-size: 1.8rem;
  margin-bottom: 1rem;
}

.success-message p {
  color: var(--text-gray);
  font-size: 1.1rem;
}

/* Info Box */
.info-box {
  background: rgba(11, 92, 255, 0.1);
  border-left: 4px solid var(--primary-blue);
  border-radius: 12px;
  padding: 1.5rem;
  margin-top: 2rem;
}

.info-box p {
  color: var(--text-gray);
  font-size: 0.95rem;
  line-height: 1.7;
  margin: 0;
}

.info-box strong {
  color: var(--text-light);
}

/* Animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-10px); }
  75% { transform: translateX(10px); }
}

@keyframes scaleIn {
  from {
    transform: scale(0);
  }
  to {
    transform: scale(1);
  }
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .hero h1 {
    font-size: 2.5rem;
  }
  
  .hero p {
    font-size: 1.1rem;
  }
  
  .form-card {
    padding: 2rem 1.5rem;
  }
  
  .toggle-btn {
    padding: 0.6rem 1rem;
    font-size: 0.9rem;
  }
  
  .parallax-bg {
    width: 400px;
    height: 400px;
  }
}
</style>
</head>
<body>
<div class="animated-bg"></div>

<section class="hero">
  <div class="parallax-layer">
    <div class="parallax-bg parallax-bg-1"></div>
    <div class="parallax-bg parallax-bg-2"></div>
  </div>
  <div class="hero-content">
    <div class="hero-tag">ðŸš€ Track. Earn. Grow.</div>
    <h1>ReferralHub</h1>
    <p>Join the network where every connection counts. Track referrals, monitor earnings, and scale your success.</p>
  </div>
</section>

<section class="form-section">
  <div class="form-card">
    <span class="security-badge">
      ðŸ”’ Secure Authentication
    </span>
    
    <div class="auth-toggle">
      <button type="button" class="toggle-btn active" id="signupToggle">Sign Up</button>
      <button type="button" class="toggle-btn" id="loginToggle">Login</button>
    </div>

    <div id="authError" class="error-message"></div>
    
    <form id="authForm">
      <div class="form-group" id="nameGroup">
        <label for="fullName">Full Name *</label>
        <input type="text" id="fullName" placeholder="Enter your full name">
      </div>
      
      <div class="form-group">
        <label for="email">Email Address *</label>
        <input type="email" id="email" placeholder="you@example.com" required>
      </div>
      
      <div class="form-group">
        <label for="password">Password *</label>
        <input type="password" id="password" placeholder="Minimum 6 characters" required>
      </div>
      
      <button type="button" class="submit-btn" id="authBtn">
        <span id="btnText">Create Account</span>
      </button>
    </form>

    <div id="authSuccess" class="success-message">
      <div class="success-icon">âœ…</div>
      <h3>Success!</h3>
      <p>Redirecting to your dashboard...</p>
    </div>

    <div class="info-box">
      <p><strong>New here?</strong> Create an account to start tracking your referrals and unlock your earning potential.</p>
    </div>
  </div>
</section>

<script>
// Firebase Configuration - Replace with your config
const firebaseConfig = {
  apiKey: "AIzaSyACwTfO-Ri9E3JrzAlcAunl5yYPJCYZU4I",
  authDomain: "referralhub-8d29d.firebaseapp.com",
  projectId: "referralhub-8d29d",
  storageBucket: "referralhub-8d29d.firebasestorage.app",
  messagingSenderId: "784103835168",
  appId: "1:784103835168:web:baa4015f498028bb5bde45"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// DOM Elements
const authBtn = document.getElementById('authBtn');
const btnText = document.getElementById('btnText');
const authError = document.getElementById('authError');
const authSuccess = document.getElementById('authSuccess');
const signupToggle = document.getElementById('signupToggle');
const loginToggle = document.getElementById('loginToggle');
const nameGroup = document.getElementById('nameGroup');
const fullNameInput = document.getElementById('fullName');
const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const authForm = document.getElementById('authForm');

let isSignupMode = true;

// Toggle between Signup and Login
signupToggle.addEventListener('click', () => {
  isSignupMode = true;
  signupToggle.classList.add('active');
  loginToggle.classList.remove('active');
  nameGroup.style.display = 'block';
  btnText.textContent = 'Create Account';
  fullNameInput.required = true;
  clearMessages();
});

loginToggle.addEventListener('click', () => {
  isSignupMode = false;
  loginToggle.classList.add('active');
  signupToggle.classList.remove('active');
  nameGroup.style.display = 'none';
  btnText.textContent = 'Login';
  fullNameInput.required = false;
  clearMessages();
});

// Clear error messages
function clearMessages() {
  authError.classList.remove('show');
  authError.textContent = '';
}

// Show error message
function showError(message) {
  authError.textContent = `âš  ${message}`;
  authError.classList.add('show');
  setTimeout(() => authError.classList.remove('show'), 5000);
}

// Set button loading state
function setLoading(isLoading) {
  authBtn.disabled = isLoading;
  if (isLoading) {
    btnText.innerHTML = 'Processing... <span class="spinner"></span>';
  } else {
    btnText.textContent = isSignupMode ? 'Create Account' : 'Login';
  }
}



// THIS ONE BLOCK HANDLES BOTH CLICKS AND THE "ENTER" KEY
authForm.addEventListener('submit', async (e) => {
    e.preventDefault(); // Stop the page from refreshing
    
    console.log("Form submitted! Logic starting..."); // This tells you it's working
    clearMessages();

    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();
    const fullName = fullNameInput ? fullNameInput.value.trim() : '';

    // Validation
    if (isSignupMode && !fullName) {
        showError('Please enter your full name.');
        return;
    }
    if (!email || !password) {
        showError('Please fill in all fields.');
        return;
    }

    setLoading(true);

    try {
        if (isSignupMode) {
            console.log("Attempting Sign Up...");
            const userCredential = await auth.createUserWithEmailAndPassword(email, password);
            
            await db.collection('users').doc(userCredential.user.uid).set({
                fullName: fullName,
                email: email,
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                totalReferrals: 0,
                totalEarnings: 0
            });
        } else {
            console.log("Attempting Login...");
            await auth.signInWithEmailAndPassword(email, password);
        }

        // SUCCESS!
        authForm.style.display = 'none';
        authSuccess.classList.add('show');

        setTimeout(() => {
            window.location.href = 'dashboard/index.html';
        }, 2000);

    } catch (error) {
        console.error('Auth error detailed:', error.code);
        showError(error.message); // This shows the real error on the screen
        setLoading(false);
    }
});

// Clear error on input
[emailInput, passwordInput, fullNameInput].forEach(input => {
  input.addEventListener('input', clearMessages);
});

// Check if user is already logged in
auth.onAuthStateChanged(user => {
  if (user) {
    window.location.href = 'dashboard/index.html';
  }
});
</script>
</body>
</html>
